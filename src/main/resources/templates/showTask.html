<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Task Details</title>
    <link rel="stylesheet" href="/dashboard.css">
</head>
<body>

<!-- Include Navigation Bar -->
<nav>
    <div th:insert="fragments.html :: nav"></div>
</nav>

<header>
    <h1>Task Details</h1>
    <h2>Task Title: <span th:text="${task.taskTitle}"></span></h2>
</header>

<main>
    <div class="task-overview">
        <!-- Task Details Section -->
        <div class="task-details">
            <h3>Description</h3>
            <p th:text="${task.taskDescription}"></p>

            <h3>Status</h3>
            <p th:text="${task.status == 1 ? 'Completed' : task.status == 0 ? 'In Progress' : 'Pending'}"></p>

            <h3>Assigned Employee</h3>
            <p th:text="${task.assignedEmployee != null ? task.assignedEmployee : 'Not assigned'}"></p>

            <h3>Estimated Time</h3>
            <p th:text="${task.estimatedTime}"></p>

            <h3>Actual Time</h3>
            <p th:text="${task.actualTime}"></p>

            <h3>Planned Start Date</h3>
            <p th:text="${task.plannedStartDate}"></p>

            <h3>Depends on Task</h3>
            <p th:text="${task.dependingOnTask != null ? 'Task ' + task.dependingOnTask : 'None'}"></p>

            <h3>Required Role</h3>
            <p th:text="${task.requiredRole != null ? 'Role ' + task.requiredRole : 'None'}"></p>
        </div>

        <!-- Conditional Action Buttons -->
        <div class="action-buttons">
            <div th:if="${isManager}">
                <p><a href="/user/{employeeID}/{projectID}/{subProjectID}/{taskID}/edit-task" class="btn btn-edit">Edit Task</a></p>
            </div>

            <div th:unless="${isManager}">
                <p><a href="/tasks/submit-hours/{projectID}/{subProjectID}/{taskID}" class="btn btn-submit">Submit Hours</a></p>
            </div>
        </div>
    </div>
</main>

<sidebar>
    <h3>Her kommer diverse visninger af data</h3>

</sidebar>

<footer>
    <div th:insert="fragments.html :: footer"></div>
</footer>

</body>
</html>
